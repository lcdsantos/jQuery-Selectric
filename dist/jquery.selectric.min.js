/*! Selectric ÏŸ v1.8.5 (2014-11-06) - git.io/tjl9sQ - Copyright (c) 2014 Leonardo Santos - Dual licensed: MIT/GPL */
!function(e){"use strict";var t="selectric",o="Input Items Open Disabled TempShow HideSelect Wrapper Hover Responsive Above Scroll",s=".sl",i={onChange:function(t){e(t).change()},maxHeight:300,dropDirection:"both",keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#x25be;</b>',disableOnMobile:!0,openOnHover:!1,expandToItemText:!1,responsive:!1,preventWindowScroll:!0,inheritOriginalWidth:!1,customClass:{prefix:t,postfixes:o,camelCase:!0},optionsItemBuilder:"{text}"},n={add:function(e,t,o){this[e]||(this[e]={}),this[e][t]=o},remove:function(e,t){delete this[e][t]}},a={replaceDiacritics:function(e){for(var t="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" "),o=t.length;o--;)e=e.toLowerCase().replace(RegExp("["+t[o]+"]","g"),"aeiouncy".charAt(o));return e},format:function(e){var t=arguments;return(""+e).replace(/{(\d+|(\w+))}/g,function(e,o,s){return s&&t[1]?t[1][s]:t[o]})},nextEnabledItem:function(e,t){for(;e[t=(t+1)%e.length].disabled;);return t},previousEnabledItem:function(e,t){for(;e[t=(t>0?t:e.length)-1].disabled;);return t},toDash:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},triggerCallback:function(o,s){var i=s.element,l=s.options["on"+o];e.isFunction(l)&&l.call(i,i,s),n[o]&&e.each(n[o],function(){this.call(i,i,s)}),e(i).trigger(t+"-"+a.toDash(o),s)}},l=e(document),r=e(window),c=function(n,c){function d(t){if($.options=e.extend(!0,{},i,$.options,t),$.classes={},$.element=n,a.triggerCallback("BeforeInit",$),$.options.disableOnMobile&&L)return $.disableOnMobile=!0,void 0;C(!0);var s=$.options.customClass,l=s.postfixes.split(" "),r=R.width();e.each(o.split(" "),function(e,t){var o=s.prefix+l[e];$.classes[t.toLowerCase()]=s.camelCase?o:a.toDash(o)}),x=e("<input/>",{"class":$.classes.input,readonly:L}),k=e("<div/>",{"class":$.classes.items,tabindex:-1}),D=e("<div/>",{"class":$.classes.scroll}),T=e("<div/>",{"class":s.prefix,html:$.options.arrowButtonMarkup}),y=e('<p class="label"/>'),I=R.wrap("<div>").parent().append(T.prepend(y),k,x),A={open:v,close:m,destroy:C,refresh:u,init:d},R.on(A).wrap('<div class="'+$.classes.hideselect+'">'),e.extend($,A),$.options.inheritOriginalWidth&&r>0&&I.width(r),p()}function p(){$.items=[];var o=R.children(),i="<ul>",n=o.filter(":selected").index();S=H=~n?n:0,(E=o.length)&&(o.each(function(t){var o=e(this),s=o.html(),n=o.prop("disabled"),l=$.options.optionsItemBuilder;$.items[t]={value:o.val(),text:s,slug:a.replaceDiacritics(s),disabled:n},i+=a.format('<li class="{1}">{2}</li>',e.trim([t==S?"selected":"",t==E-1?"last":"",n?"disabled":""].join(" ")),e.isFunction(l)?l($.items[t],o,t):a.format(l,$.items[t]))}),k.append(D.html(i+"</ul>")),y.html($.items[S].text)),T.add(R).add(I).add(x).off(s),I.prop("class",[$.classes.wrapper,R.prop("class").replace(/\S+/g,t+"-$&"),$.options.responsive?$.classes.responsive:""].join(" ")),R.prop("disabled")?(I.addClass($.classes.disabled),x.prop("disabled",!0)):(j=!0,I.removeClass($.classes.disabled).on("mouseenter"+s+" mouseleave"+s,function(t){e(this).toggleClass($.classes.hover),$.options.openOnHover&&(clearTimeout($.closeTimer),"mouseleave"==t.type?$.closeTimer=setTimeout(m,500):v())}),T.on("click"+s,function(e){Y?m():v(e)}),x.prop({tabindex:q,disabled:!1}).on("keypress"+s,h).on("keydown"+s,function(e){h(e),clearTimeout($.resetStr),$.resetStr=setTimeout(function(){x.val("")},$.options.keySearchTimeout);var t=e.keyCode||e.which;t>36&&41>t&&b(a[(39>t?"previous":"next")+"EnabledItem"]($.items,H))}).on("focusin"+s,function(e){x.one("blur",function(){x.blur()}),Y||v(e)}).on("oninput"in x[0]?"input":"keyup",function(){x.val().length&&e.each($.items,function(e,t){return RegExp("^"+x.val(),"i").test(t.slug)&&!t.disabled?(b(e),!1):void 0})}),R.prop("tabindex",!1),O=e("li",k.removeAttr("style")).click(function(){return b(e(this).index(),!0),!1})),a.triggerCallback("Init",$)}function u(){a.triggerCallback("Refresh",$),p()}function h(e){var t=e.keyCode||e.which;13==t&&e.preventDefault(),/^(9|13|27)$/.test(t)&&(e.stopPropagation(),b(H,!0))}function f(){var t=k.closest(":visible").children(":hidden"),o=$.options.maxHeight;t.addClass($.classes.tempshow);var s=k.outerWidth(),i=T.outerWidth()-(s-k.width());if(!$.options.expandToItemText||i>s?W=i:(k.css("overflow","scroll"),I.width(9e4),W=k.width(),k.css("overflow",""),I.width("")),k.width(W),"auto"==o){var n=k.offset().top-e(document).scrollTop();k.height(window.innerHeight-n-10)}else k.height()>o&&k.height(o);t.removeClass($.classes.tempshow)}function v(o){a.triggerCallback("BeforeOpen",$),o&&(o.preventDefault(),o.stopPropagation()),j&&(f(),e("."+$.classes.hideselect,"."+$.classes.open).children()[t]("close"),Y=!0,B=k.outerHeight(),M=k.height(),x.val("").is(":focus")||x.focus(),l.on("click"+s,m).on("scroll"+s,g),g(),$.options.preventWindowScroll&&l.on("mousewheel"+s+" DOMMouseScroll"+s,"."+$.classes.scroll,function(t){var o=t.originalEvent,s=e(this).scrollTop(),i=0;"detail"in o&&(i=-1*o.detail),"wheelDelta"in o&&(i=o.wheelDelta),"wheelDeltaY"in o&&(i=o.wheelDeltaY),"deltaY"in o&&(i=-1*o.deltaY),(s==this.scrollHeight-M&&0>i||0==s&&i>0)&&t.preventDefault()}),I.addClass($.classes.open),w(H),a.triggerCallback("Open",$))}function g(){f(),I.toggleClass($.classes.above,"top"==$.options.dropDirection||"both"==$.options.dropDirection&&I.offset().top+I.outerHeight()+B>r.scrollTop()+r.height())}function m(){if(a.triggerCallback("BeforeClose",$),S!=H){a.triggerCallback("BeforeChange",$);var e=$.items[H].text;R.prop("selectedIndex",S=H).data("value",e),y.html(e),a.triggerCallback("Change",$)}l.off(s),I.removeClass($.classes.open),Y=!1,a.triggerCallback("Close",$)}function b(e,t){$.items[e].disabled||(O.removeClass("selected").eq(H=e).addClass("selected"),w(e),t&&m())}function w(e){var t=O.eq(e).outerHeight(),o=O[e].offsetTop,s=D.scrollTop(),i=o+2*t;D.scrollTop(i>s+B?i-B:s>o-t?o-t:s)}function C(e){j&&(k.add(T).add(x).remove(),!e&&R.removeData(t).removeData("value"),R.prop("tabindex",q).off(s).off(A).unwrap().unwrap(),j=!1)}var x,k,D,T,y,I,O,H,S,B,M,W,E,A,$=this,R=e(n),Y=!1,j=!1,L=/android|ip(hone|od|ad)/i.test(navigator.userAgent),q=R.prop("tabindex");d(c)};e.fn[t]=function(o){return this.each(function(){var s=e.data(this,t);s&&!s.disableOnMobile?""+o===o&&s[o]?s[o]():s.init(o):e.data(this,t,new c(this,o))})},e.fn[t].hooks=n}(jQuery);